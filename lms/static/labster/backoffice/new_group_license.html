<header>
  <h2>BUY NEW LICENSES</h2>
</header>

<p><strong>Purchase {{ group_type_name() }} Labs</strong></p>
<p>Find the labs below, and enter the number of students licenses you would like to order.</p>
<p>The total price is then automatically calculated at the bottom of the page</p>

<div class="labster-lab-list">
  <p><h2>{{ group_type_name() }} Labs</h2></p>
  <table>
    <thead>
    <tr>
      <th></th>
      <th class="align-left">Lab</th>
      <th class="align-right">Price</th>
      <th class="align-right">Licenses</th>
      <th class="align-right">Total</th>
      <th></th>
    </tr>
    </thead>
    <tbody>
    <tr class="edu-level">
      <td colspan="2"><strong>Packages Labs</strong></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr ng-repeat="lab in labs | filter: {lab_type:'packages'}">
      <td class="lab-name">
        <img ng-src="{{ lab.image_url }}" />
      </td>
      <td class="align-left lab-description"><strong> {{ lab.name }} </strong> <br/>
        {{ lab.description }}
        <div ng-show="lab.products.length > 0">
          Labs included in this package:
          <ul>
            <li ng-repeat="product in lab.products">{{ product.name }}</li>
          </ul>
        </div>
      </td>
      <td class="align-right">{{ lab.price|currency:"$" }}</td>
      <td class="align-right lab-license">
        <input ng-disabled="isProcessing" size="5" maxlength="5" type="text"
               ng-model="lab.license" ng-change="updateTotal()" numeric select-all>
      </td>
      <td class="align-right lab-total">{{ lab.total|currency:"$" }}</td>
      <td class="text-decor-none">
        <a href="" ng-click="resetCount(lab)">x</a>
      </td>
    </tr>
    <tr class="edu-level">
      <td colspan="2"><strong>Individual Labs</strong></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr ng-repeat="lab in labs | filter: {lab_type:'individual'}">
      <td class="lab-name">
        <img ng-src="{{ lab.image_url }}" />
      </td>
      <td class="align-left lab-description"><strong> {{ lab.name }} </strong> <br/>
        {{ lab.description }}
        <div ng-show="lab.products.length > 0">
          Labs included in this package:
          <ul>
            <li ng-repeat="product in lab.products">{{ product.name }}</li>
          </ul>
        </div>
      </td>
      <td class="align-right">{{ lab.price|currency:"$" }}</td>
      <td class="align-right lab-license">
        <input ng-disabled="isProcessing" size="5" maxlength="5" type="text"
               ng-model="lab.license" ng-change="updateTotal()" numeric select-all>
      </td>
      <td class="align-right lab-total">{{ lab.total|currency:"$" }}</td>
      <td class="text-decor-none">
        <a href="" ng-click="resetCount(lab)">x</a>
      </td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
      <td></td>
      <td>Total</td>
      <td></td>
      <td></td>
      <td class="align-right">{{ totalPrice|currency:"$" }}</td>
      <td></td>
    </tr>
    </tfoot>
  </table>
  <div>
    <a ng-disabled="isProcessing" type="button" class="btn-labster-checkout pull-right" ng-click="buyLabs()">{{ checkoutButton }}</a>
  </div>
</div>
