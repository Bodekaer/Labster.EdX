<%! from django.utils.translation import ugettext as _ %>
<%! from microsite_configuration import microsite %>

<%inherit file="main.html" />

<%namespace name='static' file='static_content.html'/>
<%namespace file='main.html' import="login_query"/>

<%! from django.core.urlresolvers import reverse %>
<%! from django.utils import html %>
<%! from django.utils.translation import ugettext as _ %>
<%! from student.models import UserProfile %>
<%! from datetime import date %>
<%! from third_party_auth import pipeline, provider %>
<%! import calendar %>

<%block name="pagetitle">${_("Register for {platform_name}").format(platform_name=platform_name)}</%block>

<%block name="bodyclass">view-register</%block>

<%block name="js_extra">
<script type="text/javascript">

</script>
</%block>

<section class="introduction">
    <header>
        <h1 class="title">
            <span class="title-super">${_("Welcome!")}</span>
            <span class="title-sub">${_("Register below to create your {platform_name} account").format(platform_name=platform_name)}</span>
        </h1>
    </header>
</section>

<section class="register container">
    <section role="main" class="content">
        <form role="form" id="register-form" method="post" data-remote="true" action="/create_account" novalidate>
            <input type="hidden" name="csrfmiddlewaretoken" value="${ csrf_token }">

            <div role="alert" class="status message submission-error" tabindex="-1">
                <h3 class="message-title">
                    ${_("The following errors occurred while processing your registration:")} </h3>
                <ul class="message-copy"></ul>
            </div>

            <div class="group group-form group-form-requiredinformation">
                <h2 class="sr">${_('Required Information')}</h2>

                <ol class="list-input">
                    <li class="field required text" id="field-email">
                        <label for="email">${_('E-mail')}</label>
                        <input class="" id="email" type="email" name="email" value="${email}"
                               placeholder="${_('example: username@domain.com')}" required aria-required="true"/>
                    </li>

                    <li class="field required text" id="field-name">
                        <label for="name">${_('Full Name')}</label>
                        <input id="name" type="text" name="name" value="${name}" placeholder="${_('example: Jane Doe')}"
                               required aria-required="true" aria-describedby="name-tip"/>
                        <span class="tip tip-input"
                              id="name-tip">${_("Needed for any certificates you may earn")}</span>
                    </li>
                    <li class="field required text" id="field-username">
                        <label for="username">${_('Public Username')}</label>
                        <input id="username" type="text" name="username" value="${username}"
                               placeholder="${_('example: JaneDoe')}" required aria-required="true"
                               aria-describedby="username-tip"/>
                        <span class="tip tip-input" id="username-tip">${_('Will be shown in any discussions or forums you participate in')} <strong>(${_('cannot be changed later')})</strong></span>
                    </li>
                </ol>

                <div class="message">
                    <h3 class="message-title">${_("Welcome {username}").format(username=extauth_id)}</h3>

                    <p class="message-copy">${_("Enter a Public Display Name:")}</p>
                </div>
                <div class="form-actions">
                    <button name="submit" type="submit" id="submit" class="action action-primary action-update">
                        ${_('Register')} <span class="orn-plus">+</span> ${_('Create My Account')}
                    </button>
                </div>
            </div>
        </form>
    </section>
</section>
